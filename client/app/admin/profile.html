<div ng-include="'components/navbar/navbar.html'"></div>
<div class="container">
  <div class="page-header">
    <h1>Profile</h1>
  </div>
  <ol class="breadcrumb">  
    <li><a href="admin">Home</a></li>
    <li><a href="#">Profile</a></li>
  </ol>
  <div class="row container"> 
    <h3> Account Summary </h3> 
    <dl class="dl-horizontal">
      <dt> Email : </dt> <dd> {{admin.email}} </dd>
      <dt> Name : </dt> <dd> {{admin.name}} </dd>
      <dt> Phone : </dt> <dd> {{admin.phone || "N/A"}} </dd>
      <dt> Access Level : </dt> <dd> {{admin.isSuper ? "Super" : "Normal"}} </dd>
      <dt> Companies : </dt> <dd> {{admin.companies.length}} </dd>
    </dl>
  </div>
  <h3> Edit Details </h3>
  <form class="form" name="form" ng-submit="update(form)" novalidate>
    <div class="form-group">
      <label>New Name</label>
      <input type="text" name="name" class="form-control" placeholder="{{admin.name}}" ng-model="admin.updated.name" mongoose-error/>
    </div>
    <div class="form-group">
      <label>New Email</label>
      <input type="text" name="email" class="form-control" placeholder="{{admin.email}}" ng-model="admin.updated.email" mongoose-error/>
      <p class="help-block" ng-show="form.email.$error.mongoose">{{ errors.email }}</p>
    </div>
    <div class="form-group">
      <label>New Phone</label>
      <input type="text" name="phone" class="form-control" placeholder="{{admin.phone}}" ng-model="admin.updated.phone" mongoose-error/>
    </div>
    <p class="help-block"> {{ message }} </p>
    <button class="btn btn-lg btn-primary" type="submit">Save changes</button>
  </form>
</div>
